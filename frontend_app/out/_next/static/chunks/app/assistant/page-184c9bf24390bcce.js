(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{386:function(e,t,r){Promise.resolve().then(r.bind(r,81881))},81881:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var s=r(3827),n=r(64090),a=r(4504),i=r(45526);function l(){let e=(0,n.useRef)(!1);return(0,i.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var o=r(31837),c=r(24561),d=r(72435);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:r}=e,s=(0,n.useId)(),a=(0,n.useRef)(null),i=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l}=i.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[r]),n.createElement(u,{isPresent:r,childRef:a,sizeRef:i},n.cloneElement(t,{ref:a}))}let f=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:a,custom:i,presenceAffectsLayout:l,mode:o}=e,u=(0,d.h)(p),f=(0,n.useId)(),h=(0,n.useMemo)(()=>({id:f,initial:r,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))}),l?void 0:[s]);return(0,n.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),n.useEffect(()=>{s||u.size||!a||a()},[s]),"popLayout"===o&&(t=n.createElement(m,{isPresent:s},t)),n.createElement(c.O.Provider,{value:h},t)};function p(){return new Map}var h=r(53856),x=r(29908);let b=e=>e.key||"",y=e=>{var t;let{children:r,custom:s,initial:a=!0,onExitComplete:c,exitBeforeEnter:d,presenceAffectsLayout:u=!0,mode:m="sync"}=e;(0,x.k)(!d,"Replace exitBeforeEnter with mode='wait'");let p=(0,n.useContext)(h.p).forceRender||function(){let e=l(),[t,r]=(0,n.useState)(0),s=(0,n.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,n.useCallback)(()=>o.Wi.postRender(s),[s]),t]}()[0],y=l(),g=function(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}(r),v=g,j=(0,n.useRef)(new Map).current,w=(0,n.useRef)(v),N=(0,n.useRef)(new Map).current,k=(0,n.useRef)(!0);if((0,i.L)(()=>{k.current=!1,function(e,t){e.forEach(e=>{let r=b(e);t.set(r,e)})}(g,N),w.current=v}),t=()=>{k.current=!0,N.clear(),j.clear()},(0,n.useEffect)(()=>()=>t(),[]),k.current)return n.createElement(n.Fragment,null,v.map(e=>n.createElement(f,{key:b(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:u,mode:m},e)));v=[...v];let E=w.current.map(b),R=g.map(b),C=E.length;for(let e=0;e<C;e++){let t=E[e];-1!==R.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===m&&j.size&&(v=[]),j.forEach((e,t)=>{if(-1!==R.indexOf(t))return;let r=N.get(t);if(!r)return;let a=E.indexOf(t),i=e;i||(i=n.createElement(f,{key:b(r),isPresent:!1,onExitComplete:()=>{j.delete(t);let e=Array.from(N.keys()).filter(e=>!R.includes(e));if(e.forEach(e=>N.delete(e)),w.current=g.filter(r=>{let s=b(r);return s===t||e.includes(s)}),!j.size){if(!1===y.current)return;p(),c&&c()}},custom:s,presenceAffectsLayout:u,mode:m},r),j.set(t,i)),v.splice(a,0,i)}),v=v.map(e=>{let t=e.key;return j.has(t)?e:n.createElement(f,{key:b(e),isPresent:!0,presenceAffectsLayout:u,mode:m},e)}),n.createElement(n.Fragment,null,j.size?v:v.map(e=>(0,n.cloneElement)(e)))};var g=r(87461);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,g.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var j=r(52235);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,g.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),N=(0,g.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var k=r(1657);let E=n.forwardRef((e,t)=>{let{className:r,variant:n="default",...a}=e;return(0,s.jsx)("button",{className:(0,k.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90 h-10 py-2 px-4":"default"===n,"border border-input hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4":"outline"===n,"hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4":"ghost"===n},r),ref:t,...a})});E.displayName="Button";var R=r(27815),C=r(8792);function L(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(""),[l,o]=(0,n.useState)(!1),c=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);let d=async()=>{if(!r.trim()||l)return;let e={role:"user",content:r,timestamp:new Date};t(t=>[...t,e]),i(""),o(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,session_id:"demo_session"})}),s=await e.json(),n={role:"assistant",content:s.response,timestamp:new Date};t(e=>[...e,n])}catch(r){console.error("Error:",r);let e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};t(t=>[...t,e])}finally{o(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)(R.Zb,{className:"border-slate-200 shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-slate-200 bg-white p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a.E.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,s.jsx)(v,{className:"h-6 w-6 text-primary-700"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"AI Assistant"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Powered by Claude Sonnet 4.5 with MLflow tracing"})]})]}),(0,s.jsx)(C.default,{href:"/",children:(0,s.jsx)(E,{variant:"ghost",className:"hover:bg-slate-100 text-slate-600 p-2",children:(0,s.jsx)(j.Z,{className:"h-5 w-5"})})})]})}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 border-b border-slate-200",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Quick queries:"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:["Current 10Y Treasury yield","Rate shock: +50 bps on MMDA","LCR status","Portfolio summary"].map(e=>(0,s.jsx)(a.E.button,{onClick:()=>i(e),className:"text-xs px-3 py-1.5 rounded-md bg-white border border-slate-300 hover:border-primary-500 hover:bg-primary-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:e},e))})]}),(0,s.jsxs)("div",{className:"h-[500px] overflow-y-auto p-6 space-y-4 bg-white",children:[0===e.length&&(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-slate-400",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(v,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"Ask me about Treasury, Risk, or Regulatory metrics"})]})}),(0,s.jsx)(y,{children:e.map((e,t)=>(0,s.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] rounded-lg p-4 ".concat("user"===e.role?"bg-primary-700 text-white":"bg-slate-100 border border-slate-200 text-slate-900"),children:[(0,s.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:e.content})}),(0,s.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.role?"text-primary-200":"text-slate-500"),children:e.timestamp.toLocaleTimeString()})]})},t))}),l&&(0,s.jsx)(a.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:(0,s.jsx)(w,{className:"h-5 w-5 animate-spin text-primary-700"})})}),(0,s.jsx)("div",{ref:c})]}),(0,s.jsx)("div",{className:"border-t border-slate-200 bg-white p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&!l&&d(),placeholder:"Ask about Treasury, Risk, or Regulatory metrics...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:l}),(0,s.jsx)(E,{onClick:d,disabled:l||!r.trim(),className:"bg-primary-700 hover:bg-primary-800 text-white px-6",children:(0,s.jsx)(N,{className:"h-4 w-4"})})]})})]})})})}},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var s=r(3827),n=r(64090),a=r(1657);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-none border-2 border-bloomberg-border bg-bloomberg-surface text-bloomberg-text shadow-xl hover:border-bloomberg-orange/50 transition-colors",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6 border-b border-bloomberg-orange/30",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-lg font-bold leading-none tracking-wider text-bloomberg-orange font-mono uppercase",r),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(75504),n=r(51367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[475,971,69,744],function(){return e(e.s=386)}),_N_E=e.O()}]);