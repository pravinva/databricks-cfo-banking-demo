(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{97702:function(e,t,r){Promise.resolve().then(r.bind(r,74853)),Promise.resolve().then(r.t.bind(r,86087,23)),Promise.resolve().then(r.t.bind(r,52445,23))},74853:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(3827),s=r(64090),a=r(11348),i=r(4504),l=r(18727);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r(87461).Z)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var c=r(52235),d=r(18994),u=r(79990),f=r(85754),m=r(27815);function h(){let[e,t]=(0,s.useState)(!1),[r,h]=(0,s.useState)(!1),[p,x]=(0,s.useState)([]),[b,y]=(0,s.useState)(""),[g,v]=(0,s.useState)(!1),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[p]);let w=async()=>{if(!b.trim()||g)return;let e={role:"user",content:b,timestamp:new Date};x(t=>[...t,e]),y(""),v(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:b,session_id:"demo_session"})}),t=await e.json(),r={role:"assistant",content:t.response,timestamp:new Date};x(e=>[...e,r])}catch(t){console.error("Error:",t);let e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};x(t=>[...t,e])}finally{v(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.M,{children:!e&&(0,n.jsx)(i.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-6 right-6 z-50",children:(0,n.jsx)(f.z,{onClick:()=>t(!0),className:"h-14 w-14 rounded-full bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-xl hover:shadow-2xl transition-all duration-300 group",children:(0,n.jsx)(i.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:(0,n.jsx)(l.Z,{className:"h-6 w-6 text-white"})})})})}),(0,n.jsx)(a.M,{children:e&&(0,n.jsx)(i.E.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:r?.95:1,height:r?60:600},exit:{opacity:0,y:100,scale:.8},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-6 right-6 w-96 z-50",children:(0,n.jsxs)(m.Zb,{className:"border-slate-200 shadow-2xl overflow-hidden",children:[(0,n.jsx)("div",{className:"border-b border-slate-200 bg-gradient-to-r from-blue-600 to-blue-700 p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.E.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,n.jsx)(l.Z,{className:"h-5 w-5 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-white",children:"AI Assistant"}),(0,n.jsx)("p",{className:"text-xs text-blue-100",children:"Claude Sonnet 4.5"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(f.z,{variant:"ghost",onClick:()=>h(!r),className:"hover:bg-blue-500/20 text-white p-1 h-7 w-7",children:(0,n.jsx)(o,{className:"h-4 w-4"})}),(0,n.jsx)(f.z,{variant:"ghost",onClick:()=>t(!1),className:"hover:bg-blue-500/20 text-white p-1 h-7 w-7",children:(0,n.jsx)(c.Z,{className:"h-4 w-4"})})]})]})}),!r&&(0,n.jsxs)("div",{className:"flex flex-col h-[536px]",children:[0===p.length&&(0,n.jsxs)("div",{className:"bg-slate-50 p-3 border-b border-slate-200 flex-shrink-0",children:[(0,n.jsx)("p",{className:"text-xs font-medium text-slate-700 mb-2",children:"Quick queries:"}),(0,n.jsx)("div",{className:"flex gap-1.5 flex-wrap",children:["Current 10Y Treasury yield","Rate shock: +50 bps on MMDA","LCR status","Portfolio summary"].map(e=>(0,n.jsx)("button",{onClick:()=>y(e),className:"text-xs px-2 py-1 rounded bg-white border border-slate-300 hover:border-blue-500 hover:bg-blue-50 transition-colors text-slate-700 hover:text-blue-700",children:e},e))})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-white",children:[0===p.length&&(0,n.jsx)("div",{className:"flex items-center justify-center h-full text-slate-400",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(l.Z,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),(0,n.jsx)("p",{className:"text-xs",children:"Ask about Treasury, Risk, or Regulatory metrics"})]})}),(0,n.jsx)(a.M,{children:p.map((e,t)=>(0,n.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsxs)("div",{className:"max-w-[85%] rounded-lg p-3 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-slate-100 border border-slate-200 text-slate-900"),children:[(0,n.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-xs ".concat("assistant"===e.role?"text-slate-800":"text-white"),children:e.content}),(0,n.jsx)("p",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-200":"text-slate-500"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t))}),g&&(0,n.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-3",children:(0,n.jsx)(d.Z,{className:"h-4 w-4 animate-spin text-blue-600"})})}),(0,n.jsx)("div",{ref:j})]}),(0,n.jsx)("div",{className:"border-t border-slate-200 bg-white p-3 flex-shrink-0",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:b,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&!g&&w(),placeholder:"Ask me anything...",className:"flex-1 px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-900 placeholder:text-slate-400",disabled:g}),(0,n.jsx)(f.z,{onClick:w,disabled:g||!b.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4",children:(0,n.jsx)(u.Z,{className:"h-4 w-4"})})]})})]})]})})})]})}var p=r(15313);function x(e){let{children:t}=e,r=(0,p.usePathname)();return(0,n.jsxs)(n.Fragment,{children:[t,"/assistant"!==r&&(0,n.jsx)(h,{})]})}},85754:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(3827),s=r(64090),a=r(1657);let i=s.forwardRef((e,t)=>{let{className:r,variant:s="default",...i}=e;return(0,n.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-primary text-primary-foreground hover:bg-primary/90 h-10 py-2 px-4":"default"===s,"border border-input hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4":"outline"===s,"hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4":"ghost"===s},r),ref:t,...i})});i.displayName="Button"},27815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var n=r(3827),s=r(64090),a=r(1657);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-none border-2 border-bloomberg-border bg-bloomberg-surface text-bloomberg-text shadow-xl hover:border-bloomberg-orange/50 transition-colors",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6 border-b border-bloomberg-orange/30",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-lg font-bold leading-none tracking-wider text-bloomberg-orange font-mono uppercase",r),...s})});o.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(75504),s=r(51367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},18994:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},79990:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(87461).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},18727:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(87461).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},52445:function(){},86087:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},11348:function(e,t,r){"use strict";r.d(t,{M:function(){return x}});var n=r(64090),s=r(45526);function a(){let e=(0,n.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=r(31837),l=r(24561),o=r(72435);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,s=(0,n.useId)(),a=(0,n.useRef)(null),i=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l}=i.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[r]),n.createElement(c,{isPresent:r,childRef:a,sizeRef:i},n.cloneElement(t,{ref:a}))}let u=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:a,custom:i,presenceAffectsLayout:c,mode:u}=e,m=(0,o.h)(f),h=(0,n.useId)(),p=(0,n.useMemo)(()=>({id:h,initial:r,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;a&&a()},register:e=>(m.set(e,!1),()=>m.delete(e))}),c?void 0:[s]);return(0,n.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),n.useEffect(()=>{s||m.size||!a||a()},[s]),"popLayout"===u&&(t=n.createElement(d,{isPresent:s},t)),n.createElement(l.O.Provider,{value:p},t)};function f(){return new Map}var m=r(53856),h=r(29908);let p=e=>e.key||"",x=e=>{var t;let{children:r,custom:l,initial:o=!0,onExitComplete:c,exitBeforeEnter:d,presenceAffectsLayout:f=!0,mode:x="sync"}=e;(0,h.k)(!d,"Replace exitBeforeEnter with mode='wait'");let b=(0,n.useContext)(m.p).forceRender||function(){let e=a(),[t,r]=(0,n.useState)(0),s=(0,n.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,n.useCallback)(()=>i.Wi.postRender(s),[s]),t]}()[0],y=a(),g=function(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}(r),v=g,j=(0,n.useRef)(new Map).current,w=(0,n.useRef)(v),N=(0,n.useRef)(new Map).current,k=(0,n.useRef)(!0);if((0,s.L)(()=>{k.current=!1,function(e,t){e.forEach(e=>{let r=p(e);t.set(r,e)})}(g,N),w.current=v}),t=()=>{k.current=!0,N.clear(),j.clear()},(0,n.useEffect)(()=>()=>t(),[]),k.current)return n.createElement(n.Fragment,null,v.map(e=>n.createElement(u,{key:p(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:f,mode:x},e)));v=[...v];let E=w.current.map(p),C=g.map(p),R=E.length;for(let e=0;e<R;e++){let t=E[e];-1!==C.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===x&&j.size&&(v=[]),j.forEach((e,t)=>{if(-1!==C.indexOf(t))return;let r=N.get(t);if(!r)return;let s=E.indexOf(t),a=e;a||(a=n.createElement(u,{key:p(r),isPresent:!1,onExitComplete:()=>{j.delete(t);let e=Array.from(N.keys()).filter(e=>!C.includes(e));if(e.forEach(e=>N.delete(e)),w.current=g.filter(r=>{let n=p(r);return n===t||e.includes(n)}),!j.size){if(!1===y.current)return;b(),c&&c()}},custom:l,presenceAffectsLayout:f,mode:x},r),j.set(t,a)),v.splice(s,0,a)}),v=v.map(e=>{let t=e.key;return j.has(t)?e:n.createElement(u,{key:p(e),isPresent:!0,presenceAffectsLayout:f,mode:x},e)}),n.createElement(n.Fragment,null,j.size?v:v.map(e=>(0,n.cloneElement)(e)))}}},function(e){e.O(0,[357,971,69,744],function(){return e(e.s=97702)}),_N_E=e.O()}]);